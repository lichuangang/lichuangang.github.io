webpackJsonp([0],{42:function(t,e,o){o(51);var n=o(15)(o(49),o(54),null,null);n.options.__file="D:\\self\\company\\src\\views\\info.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] info.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},43:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(6);e.default={props:["pageLevel","doFunc"],data:function(){return{show:!1,loading:!1,error:"",formItem:{name:"",desc:"",address:""},ruleValidate:{name:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],desc:[{required:!0,message:"描述信息不能为空",trigger:"blur"}]}}},methods:{open:function(){this.show=!0},ok:function(){var t=this;this.$refs.formValidate.validate(function(e){e&&(t.loading=!0,n.a.ajax.post("companies",t.formItem).then(function(e){t.loading=!1,e.data.success?(t.cancel(),window.location.reload()):t.error=e.data.msg}))})},cancel:function(){this.show=!1},clickFunc:function(){this.doFunc()},goBack:function(){this.$router.back(-1)}}}},44:function(t,e){},45:function(t,e,o){o(44);var n=o(15)(o(43),o(46),"data-v-4285aa0e",null);n.options.__file="D:\\self\\company\\src\\views\\header.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] header.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},46:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[o("Row",[o("Col",{attrs:{span:"16"}},[1==t.pageLevel?o("div",[o("img",{attrs:{src:"src/images/logo.png",alt:""}})]):t._e(),t._v(" "),2==t.pageLevel?o("div",{staticClass:"rtn_div",on:{click:t.goBack}},[o("Icon",{staticStyle:{"line-height":"35px","font-size":"25px"},attrs:{type:"arrow-left-c"}})],1):t._e(),t._v(" "),o("div",{staticClass:"title"},[t._v("\n            重庆求职防坑手册\n        ")])]),t._v(" "),o("Col",{staticStyle:{"text-align":"right"},attrs:{span:"8"}},[1==t.pageLevel?o("Button",{staticClass:"btn_push",attrs:{type:"primary",shape:"circle"},on:{click:t.open}},[t._v("新发布")]):t._e(),t._v(" "),2==t.pageLevel?o("Button",{staticClass:"btn_push",attrs:{type:"primary",shape:"circle"},on:{click:t.clickFunc}},[t._v("发表评论")]):t._e()],1)],1),t._v(" "),o("Modal",{attrs:{title:"发布新动态",loading:t.loading},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.error?o("Alert",{attrs:{type:"error","show-icon":""}},[t._v("\n            错误提示\n            "),o("span",{slot:"desc"},[t._v("\n                "+t._s(t.error)+"\n            ")])]):t._e(),t._v(" "),o("Form",{ref:"formValidate",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate}},[o("Form-item",{attrs:{label:"公司名称",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入公司名称"},model:{value:t.formItem.name,callback:function(e){t.formItem.name=e},expression:"formItem.name"}})],1),t._v(" "),o("Form-item",{attrs:{label:"描述信息",prop:"desc"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"请输入描述信息"},model:{value:t.formItem.desc,callback:function(e){t.formItem.desc=e},expression:"formItem.desc"}})],1),t._v(" "),o("Form-item",{attrs:{label:"公司地址"}},[o("Input",{attrs:{placeholder:"请输入公司地址"},model:{value:t.formItem.address,callback:function(e){t.formItem.address=e},expression:"formItem.address"}})],1)],1),t._v(" "),o("div",{slot:"footer"},[o("Button",{attrs:{type:"ghost"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.ok}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},49:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(45),a=o.n(n),s=o(6);e.default={data:function(){return{info:{id:"",name:"",description:"",address:"",diggCount:0,buryCount:0},commentShow:!1,loading:!1,error:"",repushTxt:"发表评论",commentData:{companyId:0,content:"",parentId:0,type:1},ruleValidate:{content:[{required:!0,message:"请输入评论内容",trigger:"blur"}]},comments:[]}},methods:{repushComment:function(t){this.openComment(t)},digg:function(t){var e=this,o=this;s.a.ajax.post("comments/"+t.id+"/digg",{}).then(function(t){console.log(t),t.data.success?o.loadComment():e.$Modal.warning({title:"操作失败",content:t.data.msg})})},ok:function(){var t=this;this.loading=!0,s.a.ajax.post("comments",this.commentData).then(function(e){t.loading=!1,e.data.success?(t.cancel(),t.loadComment()):t.error=e.data.msg})},cancel:function(){this.commentShow=!1},loadComment:function(){var t=this;s.a.ajax.get("comments?companyId="+this.commentData.companyId).then(function(e){t.comments=e.data.data.content})},pubCmt:function(){this.openComment()},openComment:function(t){t?(this.repushTxt="回复评论",void 0==t.parentId||0==t.parentId?(this.commentData.parentId=t.id,this.commentData.content=""):(this.commentData.content="@"+t.content+"// ",this.commentData.parentId=t.parentId)):(this.commentData.parentId=0,this.repushTxt="发表评论",this.commentData.content=""),this.commentShow=!0}},created:function(){var t=this;this.commentData.companyId=this.$route.params.id,s.a.ajax.get("companies/"+this.$route.params.id).then(function(e){t.info=e.data.data}),this.loadComment()},components:{MyHeader:a.a}}},51:function(t,e){},54:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("MyHeader",{attrs:{"page-level":"2","do-func":t.pubCmt}}),t._v(" "),o("div",{staticClass:"title"},[o("h2",{domProps:{textContent:t._s(t.info.name)}})]),t._v(" "),o("div",{staticClass:"desc",domProps:{textContent:t._s(t.info.description)}}),t._v(" "),t.info.address?o("div",{staticClass:"desc",domProps:{textContent:t._s(t.info.address)}}):t._e(),t._v(" "),o("Row",{staticClass:"cpn_tip"},[o("Col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[t._v(" "+t._s(t.info.createTime)+"\n    ")]),t._v(" "),o("Col",{staticStyle:{"text-align":"right","font-size":"14px"},attrs:{span:"12"}},[o("Icon",{staticStyle:{"font-size":"16px"},attrs:{type:"thumbsup"}}),t._v(" 好评 ("+t._s(t.info.diggCount)+")\n    "),o("Icon",{staticStyle:{"font-size":"16px"},attrs:{type:"thumbsdown"}}),t._v(" 差评 ("+t._s(t.info.buryCount)+")\n    ")],1)],1),t._v(" "),o("div",{staticClass:"comment"},t._l(t.comments,function(e,n){return o("div",{staticClass:"commentType"},[o("Row",[o("Col",{staticStyle:{"max-width":"45px","min-width":"35px"},attrs:{span:"4"}},[o("div",{staticClass:"comment_lou"},[1==e.type?o("Icon",{staticStyle:{"font-size":"18px",color:"#19be6b"},attrs:{type:"thumbsup"}}):t._e(),t._v(" "),0==e.type?o("Icon",{staticStyle:{"font-size":"18px",color:"#ed3f14"},attrs:{type:"thumbsdown"}}):t._e()],1)]),t._v(" "),o("Col",{attrs:{span:"20"}},[o("Row",[o("p",{staticStyle:{margin:"10px auto"},domProps:{textContent:t._s(e.content)}}),t._v(" "),o("Col",{attrs:{span:"12"}},[t._v(" "+t._s(e.createTime)+"\n          ")]),t._v(" "),o("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[o("div",{staticClass:"comment_opt",on:{click:function(o){t.repushComment(e)}}},[o("Icon",{staticStyle:{"font-size":"14px"},attrs:{type:"chatbubble-working"}}),t._v(" "+t._s(e.childs?""+e.childs.length:"0")+"\n          ")],1),t._v(" "),o("div",{staticClass:"comment_opt",on:{click:function(o){t.digg(e)}}},[o("Icon",{staticStyle:{"font-size":"14px"},attrs:{type:"thumbsup"}}),t._v(" "+t._s(e.diggCount)+"\n          ")],1)])],1),t._v(" "),e.childs?o("div",t._l(e.childs,function(e){return o("Row",{key:e.id,staticClass:"comment_child"},[o("p",{staticStyle:{margin:"10px auto"},domProps:{textContent:t._s(e.content)}}),t._v(" "),o("Col",{attrs:{span:"12"}},[t._v(" "+t._s(e.createTime)+"\n            ")]),t._v(" "),o("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[o("div",{staticClass:"comment_opt",on:{click:function(o){t.repushComment(e)}}},[o("Icon",{staticStyle:{"font-size":"14px"},attrs:{type:"chatbubble-working"}})],1),t._v(" "),o("div",{staticClass:"comment_opt",on:{click:function(o){t.digg(e)}}},[o("Icon",{staticStyle:{"font-size":"14px"},attrs:{type:"thumbsup"}}),t._v(" "+t._s(e.diggCount)+"\n            ")],1)])],1)})):t._e()],1)],1)],1)})),t._v(" "),o("Modal",{attrs:{title:t.repushTxt,loading:t.loading},model:{value:t.commentShow,callback:function(e){t.commentShow=e},expression:"commentShow"}},[t.error?o("Alert",{attrs:{type:"error","show-icon":""}},[t._v("\n      错误提示\n      "),o("span",{slot:"desc"},[t._v("\n        "+t._s(t.error)+"\n      ")])]):t._e(),t._v(" "),o("Form",{ref:"formValidate",attrs:{model:t.commentData,"label-width":80,rules:t.ruleValidate}},[0==t.commentData.parentId?o("Form-item",{attrs:{label:"好评差评",prop:"type"}},[o("Radio-group",{model:{value:t.commentData.type,callback:function(e){t.commentData.type=e},expression:"commentData.type"}},[o("Radio",{attrs:{label:"1"}},[o("Icon",{staticStyle:{"font-size":"16px"},attrs:{type:"thumbsup"}}),t._v(" "),o("span",[t._v("好评")])],1),t._v(" "),o("Radio",{attrs:{label:"0"}},[o("Icon",{staticStyle:{"font-size":"16px"},attrs:{type:"thumbsdown"}}),t._v(" "),o("span",[t._v("差评")])],1)],1)],1):t._e(),t._v(" "),o("Form-item",{attrs:{label:"说点什么",prop:"content"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"请输入评论内容"},model:{value:t.commentData.content,callback:function(e){t.commentData.content=e},expression:"commentData.content"}})],1)],1),t._v(" "),o("div",{slot:"footer"},[o("Button",{attrs:{type:"ghost"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:t.ok}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});